<form id="form">
  <input name="nombre" type="text" placeholder="Nombre" />
  <input name="apellido" type="text" placeholder="Apellido" />
  <input name="email" type="email" placeholder="Correo electrónico" /><input
    name="telefono"
    type="text"
    placeholder="Teléfono"
  />
  <textarea
    name="servicio_solicitado"
    rows="3"
    placeholder="Servicio a Solicitar"
  ></textarea>
  <button type="submit">Enviar Solicitud</button>
</form>

<script>
  const form = document.getElementById("form");
  form.addEventListener("submit", async (e) => {
    // e.preventDefault();

    var body = {
      [e.target[0].name]: e.target[0].value,
      [e.target[1].name]: e.target[1].value,
      [e.target[2].name]: e.target[2].value,
      [e.target[3].name]: e.target[3].value,
      [e.target[4].name]: e.target[4].value,
    };
    
    await fetch('http://localhost:1337/servicio', {
      method: 'POST',
      body: JSON.stringify({ body })
    })
    return { body };
  });
</script>
